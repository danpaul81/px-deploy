description: Install and run Portworx on each cluster
scripts: ["install-px"]
testing:
  maxparallel: 10
  #these will be run on all cloud/platforms
  globaltestparameters:
  - parameter: "px_version"
    #true will ignore value from defaults.yml, false will add value from default.yml
    ignoredefault: false
    values: ["2.13.5","3.1.0","3.0.4"]
  #these will be run on all matching platforms
  globaltestplatform:
    - platform: "k8s"
      testparameters:
      - parameter: "k8s_version"
        ignoredefault: false
        values: ["1.27.4","1.28.4"]
      - parameter: "px_version"
        ignoredefault: false
        values: ["3.13.0","3.0.4","3.1.0"]
    - platform: "eks"
      testparameters:
      - parameter: "eks_version"
        ignoredefault: false
        values: ["1.2.3","4.5.6"]
  #    - parameter: "px_version"
  #      ignoredefault: false
  #      values: ["4.1.0"]
  testclouds:
  - cloud: "aws"
    platforms: ["k8s","eks","ocp4"]
  - cloud: "azure"
    platforms:  ["k8s","aks"]
  - cloud: "vsphere"
    platforms:  ["k8s"]
  - cloud: "gcp"
    platforms:  ["k8s","gke"]
